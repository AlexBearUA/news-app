{"version":3,"file":"static/js/161.6bb4bf02.chunk.js","mappings":"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","sources":["webpack://news-app/./src/components/CategoriesMenu/CategoriesMenu.module.scss?6ec6","components/CategoriesMenu/CategoriesMenu.jsx","helpers/formatDate.js","webpack://news-app/./src/components/NewsCard/NewsCard.module.scss?c0eb","components/NewsCard/NewsCard.jsx","webpack://news-app/./src/components/NewsList/NewsList.module.scss?bff8","components/NewsList/NewsList.jsx","helpers/normalizers.js","services/news-api.js","webpack://news-app/./src/pages/Home/Home.module.scss?ce6f","pages/Home/Home.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"CategoriesMenuWrapper\":\"CategoriesMenu_CategoriesMenuWrapper__j+gW-\",\"categoriesBtn\":\"CategoriesMenu_categoriesBtn__l7wFb\",\"horizontalMenu\":\"CategoriesMenu_horizontalMenu__ehX7t\",\"activeBtn\":\"CategoriesMenu_activeBtn__qedFS\"};","import { useEffect, useState } from 'react';\nimport { useMediaQuery } from 'react-responsive';\nimport Select from 'react-select';\nimport css from './CategoriesMenu.module.scss';\n\nexport const CategoriesMenu = ({ categoriesList, setNewsCategory }) => {\n  const [active, setActive] = useState(null);\n\n  const [selectedOption, setSelectedOption] = useState('');\n\n  const [selectIsOpen, setSelectIsOpen] = useState(false);\n\n  const isTablet = useMediaQuery({\n    query: '(max-width: 1279px)',\n  });\n\n  const isMobile = useMediaQuery({\n    query: '(max-width: 767px)',\n  });\n\n  useEffect(() => {\n    setNewsCategory(selectedOption.value);\n  }, [selectedOption, setNewsCategory]);\n\n  const getOptionsForSelect = () => {\n    let result = [];\n    [...categoriesList].splice(isTablet ? 4 : 6, 50).forEach(categorie => {\n      return result.push({\n        label: categorie.display_name,\n        value: categorie.section,\n      });\n    });\n    return result;\n  };\n\n  return (\n    <div className={css.CategoriesMenuWrapper}>\n      <ul className={css.horizontalMenu}>\n        {[...categoriesList]\n          .splice(0, isTablet ? 4 : 6)\n          .map(({ display_name }) => {\n            return (\n              <li key={display_name}>\n                <button\n                  onClick={() => {\n                    setActive(display_name);\n                    setNewsCategory(display_name);\n                  }}\n                  className={`${css.categoriesBtn} ${\n                    active === display_name && css.activeBtn\n                  }`}\n                  type=\"button\"\n                >\n                  {display_name}\n                </button>\n              </li>\n            );\n          })}\n      </ul>\n      <Select\n        onMenuOpen={() => {\n          setSelectIsOpen(!selectIsOpen);\n          setActive('others');\n          setNewsCategory('others');\n        }}\n        onMenuClose={() => setSelectIsOpen(!selectIsOpen)}\n        defaultValue={selectedOption}\n        onChange={setSelectedOption}\n        options={getOptionsForSelect()}\n        className={`react-select-container ${\n          active === 'others' && 'isActive'\n        } ${selectIsOpen && 'rotateArrow'}`}\n        classNamePrefix=\"react-select\"\n        placeholder={isMobile ? 'Categories' : 'Others'}\n        unstyled\n      />\n    </div>\n  );\n};\n","export const formatDate = date => {\n  const formatedDate = date.split('-').toReversed().join('/');\n  return formatedDate;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"newsCard\":\"NewsCard_newsCard__Vg5lZ\",\"newsImg\":\"NewsCard_newsImg__yvLMK\",\"newsSection\":\"NewsCard_newsSection__IBr9z\",\"favoriteBtn\":\"NewsCard_favoriteBtn__jOJtZ\",\"newsIcon\":\"NewsCard_newsIcon__JF-5e\",\"newsTitle\":\"NewsCard_newsTitle__PfTpB\",\"newsAbstract\":\"NewsCard_newsAbstract__SYZcz\",\"newsBottomWraper\":\"NewsCard_newsBottomWraper__OSp4g\",\"newsDate\":\"NewsCard_newsDate__lZmdI\",\"newsLink\":\"NewsCard_newsLink__fcXsW\"};","import { BsHeart } from 'react-icons/bs';\nimport { formatDate } from 'helpers/formatDate';\nimport css from './NewsCard.module.scss';\n\nexport const NewsCard = ({ abstract, title, url, date, section, media }) => {\n  const imgUrl =\n    media.length !== 0\n      ? media[0]?.['media-metadata']?.[2]?.url || media[2].url\n      : 'https://upload.wikimedia.org/wikipedia/commons/6/65/No-Image-Placeholder.svg';\n\n  return (\n    <div className={css.newsCard}>\n      <img className={css.newsImg} src={imgUrl} alt={title} />\n      <p className={css.newsSection}>{section}</p>\n      <button type=\"button\" className={css.favoriteBtn}>\n        Add to favorite <BsHeart className={css.newsIcon} />\n      </button>\n      <p className={css.newsTitle}>{title}</p>\n      <p className={css.newsAbstract}>{abstract}</p>\n      <div className={css.newsBottomWraper}>\n        <p className={css.newsDate}>{formatDate(date)}</p>\n        <a\n          className={css.newsLink}\n          href={url}\n          target=\"_blank\"\n          rel=\"noopener noreferrer nofollow\"\n        >\n          Read more\n        </a>\n      </div>\n    </div>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"newsList\":\"NewsList_newsList__xTSKs\"};","import { NewsCard } from 'components/NewsCard/NewsCard';\nimport css from './NewsList.module.scss';\n\nexport const NewsList = ({ news }) => {\n  return (\n    <ul className={css.newsList}>\n      {news.map(({ abstract, title, url, date, section, media }) => (\n        <li key={url}>\n          <NewsCard\n            abstract={abstract}\n            title={title}\n            media={media}\n            url={url}\n            date={date}\n            section={section}\n          />\n        </li>\n      ))}\n    </ul>\n  );\n};\n","const normalizePopularNews = news => {\n  return news.map(\n    ({\n      abstract,\n      title,\n      url,\n      published_date: date,\n      nytdsection: section,\n      media,\n    }) => ({\n      abstract,\n      title,\n      url,\n      date,\n      section,\n      media,\n      favorite: false,\n      readed: false,\n    })\n  );\n};\n\nconst normalizeNewsByCategory = news => {\n  return news.map(\n    ({\n      abstract,\n      title,\n      url,\n      published_date: date,\n      section,\n      multimedia: media,\n    }) => ({\n      abstract,\n      title,\n      url,\n      date,\n      section,\n      media,\n      favorite: false,\n      readed: false,\n    })\n  );\n};\n\nexport { normalizePopularNews, normalizeNewsByCategory };\n","import axios from 'axios';\nimport {\n  normalizePopularNews,\n  normalizeNewsByCategory,\n} from '../helpers/normalizers';\n\nconst API_KEY = 'HuhT2LeoT7Ua2Tg2s6puWXB3yc9UXWQk';\nconst BASE_URL = 'https://api.nytimes.com/svc/';\n\nasync function getNewsCategories() {\n  const {\n    data: { results },\n  } = await axios.get(\n    `${BASE_URL}news/v3/content/section-list.json?api-key=${API_KEY}`\n  );\n  return results;\n}\n\nasync function getMostPopularNews() {\n  const {\n    data: { results },\n  } = await axios.get(\n    `${BASE_URL}mostpopular/v2/viewed/1.json?api-key=${API_KEY}`\n  );\n  return normalizePopularNews(results);\n}\n\nasync function getNewsByCategory(category) {\n  const {\n    data: { results },\n  } = await axios.get(\n    `${BASE_URL}news/v3/content/all/${encodeURIComponent(\n      category\n    )}.json?limit=20&offset=1&api-key=${API_KEY}`\n  );\n  return normalizeNewsByCategory(results);\n}\n\nconst api = {\n  getNewsCategories,\n  getMostPopularNews,\n  getNewsByCategory,\n};\n\nexport default api;\n\n// https://api.nytimes.com/svc/search/v2/articlesearch.json?q='ukraine'&api-key=HuhT2LeoT7Ua2Tg2s6puWXB3yc9UXWQk\n","// extracted by mini-css-extract-plugin\nexport default {\"home\":\"Home_home__9Ke73\"};","import { useContext, useEffect, useState } from 'react';\nimport { CategoriesMenu } from 'components/CategoriesMenu/CategoriesMenu';\nimport { NewsList } from 'components/NewsList/NewsList';\nimport { ThemeContext, NewsQueryContext } from 'components/App';\nimport newsApi from '../../services/news-api';\nimport css from './Home.module.scss';\n\nconst Home = () => {\n  const { theme } = useContext(ThemeContext);\n\n  const { newsQuery } = useContext(NewsQueryContext);\n\n  const [fetchedNews, setFetchedNews] = useState([]);\n\n  const [categoriesList, setCategoriesList] = useState([]);\n\n  const [newsCategory, setNewsCategory] = useState('');\n\n  console.log(newsQuery);\n\n  useEffect(() => {\n    newsApi\n      .getMostPopularNews()\n      .then(news => setFetchedNews(news))\n      .catch(error => console.log(error));\n  }, []);\n\n  useEffect(() => {\n    newsApi\n      .getNewsCategories()\n      .then(categories => setCategoriesList(categories))\n      .catch(error => console.log(error));\n  }, []);\n\n  useEffect(() => {\n    if (!newsCategory || newsCategory === 'others') {\n      return;\n    }\n    newsApi\n      .getNewsByCategory(newsCategory)\n      .then(news => setFetchedNews(news))\n      .catch(error => console.log(error));\n  }, [newsCategory]);\n\n  return (\n    <section className={`${css.home} ${theme}`}>\n      <CategoriesMenu\n        categoriesList={categoriesList}\n        setNewsCategory={setNewsCategory}\n      />\n      <NewsList news={fetchedNews} />\n    </section>\n  );\n};\n\nexport default Home;\n"],"names":["CategoriesMenu","categoriesList","setNewsCategory","useState","active","setActive","selectedOption","setSelectedOption","selectIsOpen","setSelectIsOpen","isTablet","useMediaQuery","query","isMobile","useEffect","value","className","css","splice","map","display_name","onClick","type","onMenuOpen","onMenuClose","defaultValue","onChange","options","result","forEach","categorie","push","label","section","getOptionsForSelect","classNamePrefix","placeholder","unstyled","formatDate","date","split","toReversed","join","NewsCard","abstract","title","url","media","imgUrl","length","src","alt","href","target","rel","NewsList","news","normalizePopularNews","published_date","nytdsection","favorite","readed","normalizeNewsByCategory","multimedia","API_KEY","BASE_URL","getNewsCategories","axios","results","data","getMostPopularNews","getNewsByCategory","category","encodeURIComponent","api","theme","useContext","ThemeContext","newsQuery","NewsQueryContext","fetchedNews","setFetchedNews","setCategoriesList","newsCategory","console","log","newsApi","then","catch","error","categories"],"sourceRoot":""}