{"version":3,"file":"static/js/161.e0b0b328.chunk.js","mappings":"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","sources":["helpers/normalizers.js","services/news-api.js","webpack://news-app/./src/components/CategoriesMenu/CategoriesMenu.module.scss?6ec6","components/CategoriesMenu/CategoriesMenu.jsx","helpers/formatDate.js","webpack://news-app/./src/components/NewsCard/NewsCard.module.scss?c0eb","components/NewsCard/NewsCard.jsx","webpack://news-app/./src/components/NewsList/NewsList.module.scss?bff8","components/NewsList/NewsList.jsx","webpack://news-app/./src/pages/Home/Home.module.scss?ce6f","pages/Home/Home.jsx"],"sourcesContent":["const normalizePopularNews = news => {\n  return news.map(\n    ({\n      abstract,\n      title,\n      url,\n      published_date: date,\n      nytdsection: section,\n      media,\n    }) => ({\n      abstract,\n      title,\n      url,\n      date,\n      section,\n      media,\n      favorite: false,\n      readed: false,\n    })\n  );\n};\n\nconst normalizeNewsByCategory = news => {\n  return news.map(\n    ({\n      abstract,\n      title,\n      url,\n      published_date: date,\n      section,\n      multimedia: media,\n    }) => ({\n      abstract,\n      title,\n      url,\n      date,\n      section,\n      media,\n      favorite: false,\n      readed: false,\n    })\n  );\n};\n\nexport { normalizePopularNews, normalizeNewsByCategory };\n","import axios from 'axios';\nimport {\n  normalizePopularNews,\n  normalizeNewsByCategory,\n} from '../helpers/normalizers';\n\nconst API_KEY = 'HuhT2LeoT7Ua2Tg2s6puWXB3yc9UXWQk';\nconst BASE_URL = 'https://api.nytimes.com/svc/';\n\nasync function getNewsCategories() {\n  const {\n    data: { results },\n  } = await axios.get(\n    `${BASE_URL}news/v3/content/section-list.json?api-key=${API_KEY}`\n  );\n  return results;\n}\n\nasync function getMostPopularNews() {\n  const {\n    data: { results },\n  } = await axios.get(\n    `${BASE_URL}mostpopular/v2/viewed/1.json?api-key=${API_KEY}`\n  );\n  return normalizePopularNews(results);\n}\n\nasync function getNewsByCategory(category) {\n  const {\n    data: { results },\n  } = await axios.get(\n    `${BASE_URL}news/v3/content/all/${encodeURIComponent(\n      category\n    )}.json?limit=20&offset=1&api-key=${API_KEY}`\n  );\n  return normalizeNewsByCategory(results);\n}\n\n// https://api.nytimes.com/svc/news/v3/content/all/arts.json?limit=500&offset=1&api-key=HuhT2LeoT7Ua2Tg2s6puWXB3yc9UXWQk\n\nconst api = {\n  getNewsCategories,\n  getMostPopularNews,\n  getNewsByCategory,\n};\n\nexport default api;\n","// extracted by mini-css-extract-plugin\nexport default {\"CategoriesMenuWrapper\":\"CategoriesMenu_CategoriesMenuWrapper__j+gW-\",\"categoriesBtn\":\"CategoriesMenu_categoriesBtn__l7wFb\",\"horizontalMenu\":\"CategoriesMenu_horizontalMenu__ehX7t\",\"activeBtn\":\"CategoriesMenu_activeBtn__qedFS\"};","import { useEffect, useState } from 'react';\nimport { useMediaQuery } from 'react-responsive';\nimport Select from 'react-select';\nimport newsApi from '../../services/news-api';\nimport css from './CategoriesMenu.module.scss';\n\nexport const CategoriesMenu = ({ setNewsByCategory }) => {\n  const [categoriesList, setCategoriesList] = useState([]);\n  const [active, setActive] = useState(null);\n  const [selectedOption, setSelectedOption] = useState('');\n  const [selectIsOpen, setSelectIsOpen] = useState(false);\n\n  const isTablet = useMediaQuery({\n    query: '(max-width: 1279px)',\n  });\n\n  const isMobile = useMediaQuery({\n    query: '(max-width: 767px)',\n  });\n\n  useEffect(() => {\n    newsApi\n      .getNewsCategories()\n      .then(categories => setCategoriesList(categories))\n      .catch(error => console.log(error));\n  }, []);\n\n  useEffect(() => {\n    if (active === 'others') {\n      return;\n    }\n    newsApi\n      .getNewsByCategory(active)\n      .then(news => setNewsByCategory(news))\n      .catch(error => console.log(error));\n  }, [active, setNewsByCategory]);\n\n  useEffect(() => {\n    newsApi\n      .getNewsByCategory(selectedOption.value)\n      .then(news => setNewsByCategory(news))\n      .catch(error => console.log(error));\n  }, [selectedOption, setNewsByCategory]);\n\n  const getOptionsForSelect = () => {\n    let result = [];\n    [...categoriesList].splice(isTablet ? 4 : 6, 50).forEach(categorie => {\n      return result.push({\n        label: categorie.display_name,\n        value: categorie.section,\n      });\n    });\n    return result;\n  };\n\n  return (\n    <div className={css.CategoriesMenuWrapper}>\n      <ul className={css.horizontalMenu}>\n        {[...categoriesList]\n          .splice(0, isTablet ? 4 : 6)\n          .map(({ display_name }) => {\n            return (\n              <li key={display_name}>\n                <button\n                  onClick={() => setActive(display_name)}\n                  className={`${css.categoriesBtn} ${\n                    active === display_name && css.activeBtn\n                  }`}\n                  type=\"button\"\n                >\n                  {display_name}\n                </button>\n              </li>\n            );\n          })}\n      </ul>\n      <Select\n        onMenuOpen={() => {\n          setSelectIsOpen(!selectIsOpen);\n          setActive('others');\n        }}\n        onMenuClose={() => setSelectIsOpen(!selectIsOpen)}\n        defaultValue={selectedOption}\n        onChange={setSelectedOption}\n        options={getOptionsForSelect()}\n        className={`react-select-container ${\n          active === 'others' && 'isActive'\n        } ${selectIsOpen && 'rotateArrow'}`}\n        classNamePrefix=\"react-select\"\n        placeholder={isMobile ? 'Categories' : 'Others'}\n        unstyled\n      />\n    </div>\n  );\n};\n","export const formatDate = date => {\n  const formatedDate = date.split('-').toReversed().join('/');\n  return formatedDate;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"newsCard\":\"NewsCard_newsCard__Vg5lZ\",\"newsImg\":\"NewsCard_newsImg__yvLMK\",\"newsSection\":\"NewsCard_newsSection__IBr9z\",\"favoriteBtn\":\"NewsCard_favoriteBtn__jOJtZ\",\"newsIcon\":\"NewsCard_newsIcon__JF-5e\",\"newsTitle\":\"NewsCard_newsTitle__PfTpB\",\"newsAbstract\":\"NewsCard_newsAbstract__SYZcz\",\"newsBottomWraper\":\"NewsCard_newsBottomWraper__OSp4g\",\"newsDate\":\"NewsCard_newsDate__lZmdI\",\"newsLink\":\"NewsCard_newsLink__fcXsW\"};","import { BsHeart } from 'react-icons/bs';\nimport { formatDate } from 'helpers/formatDate';\nimport css from './NewsCard.module.scss';\n\nexport const NewsCard = ({ abstract, title, url, date, section, media }) => {\n  const imgUrl =\n    media.length !== 0\n      ? media[0]?.['media-metadata']?.[2]?.url || media[2].url\n      : 'https://upload.wikimedia.org/wikipedia/commons/6/65/No-Image-Placeholder.svg';\n\n  return (\n    <div className={css.newsCard}>\n      <img className={css.newsImg} src={imgUrl} alt={title} />\n      <p className={css.newsSection}>{section}</p>\n      <button type=\"button\" className={css.favoriteBtn}>\n        Add to favorite <BsHeart className={css.newsIcon} />\n      </button>\n      <p className={css.newsTitle}>{title}</p>\n      <p className={css.newsAbstract}>{abstract}</p>\n      <div className={css.newsBottomWraper}>\n        <p className={css.newsDate}>{formatDate(date)}</p>\n        <a\n          className={css.newsLink}\n          href={url}\n          target=\"_blank\"\n          rel=\"noopener noreferrer nofollow\"\n        >\n          Read more\n        </a>\n      </div>\n    </div>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"newsList\":\"NewsList_newsList__xTSKs\"};","import { NewsCard } from 'components/NewsCard/NewsCard';\nimport css from './NewsList.module.scss';\n\nexport const NewsList = ({ news }) => {\n  return (\n    <ul className={css.newsList}>\n      {news.map(({ abstract, title, url, date, section, media }) => (\n        <li key={url}>\n          <NewsCard\n            abstract={abstract}\n            title={title}\n            media={media}\n            url={url}\n            date={date}\n            section={section}\n          />\n        </li>\n      ))}\n    </ul>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"home\":\"Home_home__9Ke73\"};","import { useContext, useEffect, useState } from 'react';\nimport { CategoriesMenu } from 'components/CategoriesMenu/CategoriesMenu';\nimport { NewsList } from 'components/NewsList/NewsList';\nimport { ThemeContext } from 'components/App';\nimport newsApi from '../../services/news-api';\nimport css from './Home.module.scss';\n\nconst Home = () => {\n  const { theme } = useContext(ThemeContext);\n\n  const [fetchedNews, setFetchedNews] = useState([]);\n  // const [newsByCategory, setNewsByCategory] = useState([]);\n\n  useEffect(() => {\n    // newsApi\n    //   .getNewsByCategory('arts')\n    //   .then(news => setNewsByCategory(news))\n    //   .catch(error => console.log(error));\n\n    newsApi\n      .getMostPopularNews()\n      .then(news => setFetchedNews(news))\n      .catch(error => console.log(error));\n  }, []);\n\n  // const setNewsByCategory = news => {\n  //   setNewsByCategory(news);\n  // };\n\n  // console.log(fetchedNews);\n  return (\n    <section className={`${css.home} ${theme}`}>\n      <CategoriesMenu setNewsByCategory={setFetchedNews} />\n      <NewsList news={fetchedNews} />\n    </section>\n  );\n};\n\nexport default Home;\n"],"names":["normalizePopularNews","news","map","abstract","title","url","date","published_date","section","nytdsection","media","favorite","readed","normalizeNewsByCategory","multimedia","API_KEY","BASE_URL","getNewsCategories","axios","results","data","getMostPopularNews","category","encodeURIComponent","api","getNewsByCategory","CategoriesMenu","setNewsByCategory","useState","categoriesList","setCategoriesList","active","setActive","selectedOption","setSelectedOption","selectIsOpen","setSelectIsOpen","isTablet","useMediaQuery","query","isMobile","useEffect","newsApi","then","categories","catch","error","console","log","value","className","css","splice","display_name","onClick","type","onMenuOpen","onMenuClose","defaultValue","onChange","options","result","forEach","categorie","push","label","getOptionsForSelect","classNamePrefix","placeholder","unstyled","formatDate","split","toReversed","join","NewsCard","imgUrl","length","src","alt","href","target","rel","NewsList","theme","useContext","ThemeContext","fetchedNews","setFetchedNews"],"sourceRoot":""}