"use strict";(self.webpackChunknews_app=self.webpackChunknews_app||[]).push([[161],{161:function(e,t,n){n.r(t),n.d(t,{default:function(){return Q}});var s=n(439),r=n(791),a=n(433),c=n(805),o=n(722),i="CategoriesMenu_CategoriesMenuWrapper__j+gW-",u="CategoriesMenu_categoriesBtn__l7wFb",l="CategoriesMenu_horizontalMenu__ehX7t",d="CategoriesMenu_activeBtn__qedFS",p=n(184),f=function(e){var t=e.categoriesList,n=e.setNewsCategory,f=(0,r.useState)(null),h=(0,s.Z)(f,2),m=h[0],_=h[1],w=(0,r.useState)(""),g=(0,s.Z)(w,2),v=g[0],N=g[1],x=(0,r.useState)(!1),C=(0,s.Z)(x,2),y=C[0],j=C[1],b=(0,c.useMediaQuery)({query:"(max-width: 1279px)"}),Z=(0,c.useMediaQuery)({query:"(max-width: 767px)"});(0,r.useEffect)((function(){n(v.value)}),[v,n]);return(0,p.jsxs)("div",{className:i,children:[(0,p.jsx)("ul",{className:l,children:(0,a.Z)(t).splice(0,b?4:6).map((function(e){var t=e.display_name;return(0,p.jsx)("li",{children:(0,p.jsx)("button",{onClick:function(){_(t),n(t)},className:"".concat(u," ").concat(m===t&&d),type:"button",children:t})},t)}))}),(0,p.jsx)(o.ZP,{onMenuOpen:function(){j(!y),_("others"),n("others")},onMenuClose:function(){return j(!y)},defaultValue:v,onChange:N,options:function(){var e=[];return(0,a.Z)(t).splice(b?4:6,50).forEach((function(t){return e.push({label:t.display_name,value:t.section})})),e}(),className:"react-select-container ".concat("others"===m&&"isActive"," ").concat(y&&"rotateArrow"),classNamePrefix:"react-select",placeholder:Z?"Categories":"Others",unstyled:!0})]})},h=n(126),m=function(e){return e.split("-").toReversed().join("/")},_="NewsCard_newsCard__Vg5lZ",w="NewsCard_newsImg__yvLMK",g="NewsCard_newsSection__IBr9z",v="NewsCard_favoriteBtn__jOJtZ",N="NewsCard_newsIcon__JF-5e",x="NewsCard_newsTitle__PfTpB",C="NewsCard_newsAbstract__SYZcz",y="NewsCard_newsBottomWraper__OSp4g",j="NewsCard_newsDate__lZmdI",b="NewsCard_newsLink__fcXsW",Z=function(e){var t,n,s,r=e.abstract,a=e.title,c=e.url,o=e.date,i=e.section,u=e.media,l=0!==u.length?(null===(t=u[0])||void 0===t||null===(n=t["media-metadata"])||void 0===n||null===(s=n[2])||void 0===s?void 0:s.url)||u[2].url:"https://upload.wikimedia.org/wikipedia/commons/6/65/No-Image-Placeholder.svg";return(0,p.jsxs)("div",{className:_,children:[(0,p.jsx)("img",{className:w,src:l,alt:a}),(0,p.jsx)("p",{className:g,children:i}),(0,p.jsxs)("button",{type:"button",className:v,children:["Add to favorite ",(0,p.jsx)(h.sF8,{className:N})]}),(0,p.jsx)("p",{className:x,children:a}),(0,p.jsx)("p",{className:C,children:r}),(0,p.jsxs)("div",{className:y,children:[(0,p.jsx)("p",{className:j,children:m(o)}),(0,p.jsx)("a",{className:b,href:c,target:"_blank",rel:"noopener noreferrer nofollow",children:"Read more"})]})]})},k="NewsList_newsList__xTSKs",M=function(e){var t=e.news;return(0,p.jsx)("ul",{className:k,children:t.map((function(e){var t=e.abstract,n=e.title,s=e.url,r=e.date,a=e.section,c=e.media;return(0,p.jsx)("li",{children:(0,p.jsx)(Z,{abstract:t,title:n,media:c,url:s,date:r,section:a})},s)}))})},S=n(891),B=n(861),L=n(687),I=n.n(L),P=n(243),T=function(e){return e.map((function(e){return{abstract:e.abstract,title:e.title,url:e.url,date:e.published_date,section:e.nytdsection,media:e.media,favorite:!1,readed:!1}}))},W=function(e){return e.map((function(e){return{abstract:e.abstract,title:e.title,url:e.url,date:e.published_date,section:e.section,media:e.multimedia,favorite:!1,readed:!1}}))},E="HuhT2LeoT7Ua2Tg2s6puWXB3yc9UXWQk",A="https://api.nytimes.com/svc/";function F(){return(F=(0,B.Z)(I().mark((function e(){var t,n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.Z.get("".concat(A,"news/v3/content/section-list.json?api-key=").concat(E));case 2:return t=e.sent,n=t.data.results,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){return(O=(0,B.Z)(I().mark((function e(){var t,n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.Z.get("".concat(A,"mostpopular/v2/viewed/1.json?api-key=").concat(E));case 2:return t=e.sent,n=t.data.results,e.abrupt("return",T(n));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(){return(X=(0,B.Z)(I().mark((function e(t){var n,s;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.Z.get("".concat(A,"news/v3/content/all/").concat(encodeURIComponent(t),".json?limit=20&offset=1&api-key=").concat(E));case 2:return n=e.sent,s=n.data.results,e.abrupt("return",W(s));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var q={getNewsCategories:function(){return F.apply(this,arguments)},getMostPopularNews:function(){return O.apply(this,arguments)},getNewsByCategory:function(e){return X.apply(this,arguments)}},z=q,K="Home_home__9Ke73",Q=function(){var e=(0,r.useContext)(S.N).theme,t=(0,r.useState)([]),n=(0,s.Z)(t,2),a=n[0],c=n[1],o=(0,r.useState)([]),i=(0,s.Z)(o,2),u=i[0],l=i[1],d=(0,r.useState)(""),h=(0,s.Z)(d,2),m=h[0],_=h[1];return(0,r.useEffect)((function(){z.getMostPopularNews().then((function(e){return c(e)})).catch((function(e){return console.log(e)}))}),[]),(0,r.useEffect)((function(){z.getNewsCategories().then((function(e){return l(e)})).catch((function(e){return console.log(e)}))}),[]),(0,r.useEffect)((function(){m&&"others"!==m&&z.getNewsByCategory(m).then((function(e){return c(e)})).catch((function(e){return console.log(e)}))}),[m]),(0,p.jsxs)("section",{className:"".concat(K," ").concat(e),children:[(0,p.jsx)(f,{categoriesList:u,setNewsCategory:_}),(0,p.jsx)(M,{news:a})]})}}}]);
//# sourceMappingURL=161.84deb17b.chunk.js.map