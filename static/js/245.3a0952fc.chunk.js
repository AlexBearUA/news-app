"use strict";(self.webpackChunknews_app=self.webpackChunknews_app||[]).push([[245],{245:function(e,t,n){n.r(t),n.d(t,{default:function(){return P}});var r=n(791),a="Home_home__9Ke73",s=n(433),c=n(439),u=n(805),i=n(141),o=n(861),l=n(687),p=n.n(l),d=n(243),h=function(e){return e.map((function(e){return{abstract:e.abstract,title:e.title,url:e.url,date:e.published_date,section:e.nytdsection,media:e.media}}))},f="HuhT2LeoT7Ua2Tg2s6puWXB3yc9UXWQk",m="https://api.nytimes.com/svc/";function g(){return(g=(0,o.Z)(p().mark((function e(){var t,n;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.Z.get("".concat(m,"news/v3/content/section-list.json?api-key=").concat(f));case 2:return t=e.sent,n=t.data.results,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){return(x=(0,o.Z)(p().mark((function e(){var t,n;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.Z.get("".concat(m,"mostpopular/v2/viewed/1.json?api-key=").concat(f));case 2:return t=e.sent,n=t.data.results,e.abrupt("return",h(n));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v={getNewsCategories:function(){return g.apply(this,arguments)},getMostPopularNews:function(){return x.apply(this,arguments)}},_=v,w="CategoriesMenu_CategoriesMenuWrapper__j+gW-",j="CategoriesMenu_categoriesBtn__l7wFb",y="CategoriesMenu_horizontalMenu__ehX7t",b="CategoriesMenu_activeBtn__qedFS",C=n(184),k=function(){var e=(0,r.useState)([]),t=(0,c.Z)(e,2),n=t[0],a=t[1],o=(0,r.useState)(null),l=(0,c.Z)(o,2),p=l[0],d=l[1],h=(0,r.useState)(null),f=(0,c.Z)(h,2),m=f[0],g=(f[1],(0,u.useMediaQuery)({query:"(max-width: 1279px)"})),x=(0,u.useMediaQuery)({query:"(max-width: 767px)"});(0,r.useEffect)((function(){_.getNewsCategories().then((function(e){return a(e)})).catch((function(e){return console.log(e)}))}),[]);return(0,C.jsxs)("div",{className:w,children:[(0,C.jsx)("ul",{className:y,children:(0,s.Z)(n).splice(0,g?4:6).map((function(e){var t=e.display_name;return(0,C.jsx)("li",{children:(0,C.jsx)("button",{onClick:function(){return d(t)},className:"".concat(j," ").concat(p===t&&b),type:"button",children:t})},t)}))}),(0,C.jsx)(i.ZP,{defaultValue:m,onChange:function(){return d("others")},options:function(){var e=[];return(0,s.Z)(n).splice(g?4:6,50).forEach((function(t){return e.push({value:t.section,label:t.display_name})})),e}(),className:"react-select-container ".concat("others"===p&&b),classNamePrefix:"react-select",placeholder:x?"Categories":"Others",unstyled:!0})]})},N=function(e){var t=e.abstract,n=e.title,r=(e.url,e.date,e.section,e.media),a=0!==r.length?r[0]["media-metadata"][2].url:"https://upload.wikimedia.org/wikipedia/commons/6/65/No-Image-Placeholder.svg";return(0,C.jsxs)("div",{children:[(0,C.jsx)("img",{src:a,alt:n}),(0,C.jsx)("h2",{children:n}),(0,C.jsx)("p",{children:t})]})},Z=function(){var e=(0,r.useState)([]),t=(0,c.Z)(e,2),n=t[0],a=t[1];return(0,r.useEffect)((function(){_.getMostPopularNews().then((function(e){return a(e)})).catch((function(e){return console.log(e)}))}),[]),(0,C.jsx)("ul",{children:n.map((function(e){var t=e.abstract,n=e.title,r=e.url,a=e.date,s=e.section,c=e.media;return(0,C.jsx)("li",{children:(0,C.jsx)(N,{abstract:t,title:n,media:c,url:r,date:a,section:s})},r)}))})},M=n(410),P=function(){var e=(0,r.useContext)(M.N).theme;return(0,C.jsxs)("div",{className:"".concat(a," ").concat(e),children:[(0,C.jsx)(k,{}),(0,C.jsx)(Z,{})]})}}}]);
//# sourceMappingURL=245.3a0952fc.chunk.js.map