"use strict";(self.webpackChunknews_app=self.webpackChunknews_app||[]).push([[161],{161:function(e,t,n){n.r(t),n.d(t,{default:function(){return Q}});var r=n(439),s=n(791),a=n(433),c=n(805),o=n(722),i=n(861),u=n(687),l=n.n(u),d=n(243),p=function(e){return e.map((function(e){return{abstract:e.abstract,title:e.title,url:e.url,date:e.published_date,section:e.nytdsection,media:e.media,favorite:!1,readed:!1}}))},f=function(e){return e.map((function(e){return{abstract:e.abstract,title:e.title,url:e.url,date:e.published_date,section:e.section,media:e.multimedia,favorite:!1,readed:!1}}))},h="HuhT2LeoT7Ua2Tg2s6puWXB3yc9UXWQk",m="https://api.nytimes.com/svc/";function _(){return(_=(0,i.Z)(l().mark((function e(){var t,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.Z.get("".concat(m,"news/v3/content/section-list.json?api-key=").concat(h));case 2:return t=e.sent,n=t.data.results,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(){return(w=(0,i.Z)(l().mark((function e(){var t,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.Z.get("".concat(m,"mostpopular/v2/viewed/1.json?api-key=").concat(h));case 2:return t=e.sent,n=t.data.results,e.abrupt("return",p(n));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return(g=(0,i.Z)(l().mark((function e(t){var n,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.Z.get("".concat(m,"news/v3/content/all/").concat(encodeURIComponent(t),".json?limit=20&offset=1&api-key=").concat(h));case 2:return n=e.sent,r=n.data.results,e.abrupt("return",f(r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var N={getNewsCategories:function(){return _.apply(this,arguments)},getMostPopularNews:function(){return w.apply(this,arguments)},getNewsByCategory:function(e){return g.apply(this,arguments)}},v=N,x="CategoriesMenu_CategoriesMenuWrapper__j+gW-",y="CategoriesMenu_categoriesBtn__l7wFb",C="CategoriesMenu_horizontalMenu__ehX7t",j="CategoriesMenu_activeBtn__qedFS",b=n(184),Z=function(e){var t=e.setNewsByCategory,n=(0,s.useState)([]),i=(0,r.Z)(n,2),u=i[0],l=i[1],d=(0,s.useState)(null),p=(0,r.Z)(d,2),f=p[0],h=p[1],m=(0,s.useState)(""),_=(0,r.Z)(m,2),w=_[0],g=_[1],N=(0,s.useState)(!1),Z=(0,r.Z)(N,2),k=Z[0],M=Z[1],B=(0,c.useMediaQuery)({query:"(max-width: 1279px)"}),S=(0,c.useMediaQuery)({query:"(max-width: 767px)"});(0,s.useEffect)((function(){v.getNewsCategories().then((function(e){return l(e)})).catch((function(e){return console.log(e)}))}),[]),(0,s.useEffect)((function(){"others"!==f&&v.getNewsByCategory(f).then((function(e){return t(e)})).catch((function(e){return console.log(e)}))}),[f,t]),(0,s.useEffect)((function(){v.getNewsByCategory(w.value).then((function(e){return t(e)})).catch((function(e){return console.log(e)}))}),[w,t]);return(0,b.jsxs)("div",{className:x,children:[(0,b.jsx)("ul",{className:C,children:(0,a.Z)(u).splice(0,B?4:6).map((function(e){var t=e.display_name;return(0,b.jsx)("li",{children:(0,b.jsx)("button",{onClick:function(){return h(t)},className:"".concat(y," ").concat(f===t&&j),type:"button",children:t})},t)}))}),(0,b.jsx)(o.ZP,{onMenuOpen:function(){M(!k),h("others")},onMenuClose:function(){return M(!k)},defaultValue:w,onChange:g,options:function(){var e=[];return(0,a.Z)(u).splice(B?4:6,50).forEach((function(t){return e.push({label:t.display_name,value:t.section})})),e}(),className:"react-select-container ".concat("others"===f&&"isActive"," ").concat(k&&"rotateArrow"),classNamePrefix:"react-select",placeholder:S?"Categories":"Others",unstyled:!0})]})},k=n(126),M=function(e){return e.split("-").toReversed().join("/")},B="NewsCard_newsCard__Vg5lZ",S="NewsCard_newsImg__yvLMK",I="NewsCard_newsSection__IBr9z",P="NewsCard_favoriteBtn__jOJtZ",T="NewsCard_newsIcon__JF-5e",W="NewsCard_newsTitle__PfTpB",E="NewsCard_newsAbstract__SYZcz",L="NewsCard_newsBottomWraper__OSp4g",A="NewsCard_newsDate__lZmdI",F="NewsCard_newsLink__fcXsW",O=function(e){var t,n,r,s=e.abstract,a=e.title,c=e.url,o=e.date,i=e.section,u=e.media,l=0!==u.length?(null===(t=u[0])||void 0===t||null===(n=t["media-metadata"])||void 0===n||null===(r=n[2])||void 0===r?void 0:r.url)||u[2].url:"https://upload.wikimedia.org/wikipedia/commons/6/65/No-Image-Placeholder.svg";return(0,b.jsxs)("div",{className:B,children:[(0,b.jsx)("img",{className:S,src:l,alt:a}),(0,b.jsx)("p",{className:I,children:i}),(0,b.jsxs)("button",{type:"button",className:P,children:["Add to favorite ",(0,b.jsx)(k.sF8,{className:T})]}),(0,b.jsx)("p",{className:W,children:a}),(0,b.jsx)("p",{className:E,children:s}),(0,b.jsxs)("div",{className:L,children:[(0,b.jsx)("p",{className:A,children:M(o)}),(0,b.jsx)("a",{className:F,href:c,target:"_blank",rel:"noopener noreferrer nofollow",children:"Read more"})]})]})},X="NewsList_newsList__xTSKs",q=function(e){var t=e.news;return(0,b.jsx)("ul",{className:X,children:t.map((function(e){var t=e.abstract,n=e.title,r=e.url,s=e.date,a=e.section,c=e.media;return(0,b.jsx)("li",{children:(0,b.jsx)(O,{abstract:t,title:n,media:c,url:r,date:s,section:a})},r)}))})},z=n(891),K="Home_home__9Ke73",Q=function(){var e=(0,s.useContext)(z.N).theme,t=(0,s.useState)([]),n=(0,r.Z)(t,2),a=n[0],c=n[1];return(0,s.useEffect)((function(){v.getMostPopularNews().then((function(e){return c(e)})).catch((function(e){return console.log(e)}))}),[]),(0,b.jsxs)("section",{className:"".concat(K," ").concat(e),children:[(0,b.jsx)(Z,{setNewsByCategory:c}),(0,b.jsx)(q,{news:a})]})}}}]);
//# sourceMappingURL=161.e0b0b328.chunk.js.map